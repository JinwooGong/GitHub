<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>웹프로그래밍 10주차 실습과제</title>
    <style>
        form{
            margin : 10px;
        }
        input[type="radio"]{
            margin-top: 10px;
        }
    </style>
    <script>
        var q1Arr = [0, 0, 0, 0];
        var q2Arr = [0, 0, 0, 0];
        var q3Arr = [0, 0, 0, 0];
        var q4Arr = [0, 0];
        var q5Arr = [0 ,0];

        function submitRadio(){

            span = document.getElementById("span");
            
            q1Arr[parseInt(document.q1.a1.value)-1] += 1;
            q2Arr[parseInt(document.q2.a2.value)-1] += 1;
            q3Arr[parseInt(document.q3.a3.value)-1] += 1;
            q4Arr[parseInt(document.q4.a4.value)-1] += 1;
            q5Arr[parseInt(document.q5.a5.value)-1] += 1;


            
            span.innerHTML = String(q1Arr[0]) + String(q1Arr[1]) + String(q1Arr[2]) + String(q1Arr[3]) + "<br>" +
            String(q2Arr[0]) + String(q2Arr[1]) + String(q2Arr[2]) + String(q2Arr[3]) + "<br>" +
            String(q3Arr[0]) + String(q3Arr[1]) + String(q3Arr[2]) + String(q3Arr[3]) + "<br>" +
            String(q4Arr[0]) + String(q4Arr[1]) + "<br>" +
            String(q5Arr[0]) + String(q5Arr[1]) + "<br>";
            
        }

        function writeFile(){
            var txt = String(q1Arr[0]) + String(q1Arr[1]) + String(q1Arr[2]) + String(q1Arr[3]) + "<br>";
            var fileObject = new ActiveXObject("Scripting.FileSystemObject");
            fWrite = fileObject.CreateElement("Users\\apple\\git\\html\\week10\\test2.txt");
            fWrite.write(txt);
            fWrite.close();
        }
        function openTextFile() {
            var input = document.createElement("input");
            input.type = "file";
            input.accept = "text/plain";

            input.onchange = function (event) {
                processFile(event.target.files[0]);
            };
            input.click();
        }



        function processFile(file) {
            var reader = new FileReader();

            reader.onload = function () {
                output.innerText = reader.result;
            };

            reader.readAsText(file, /* optional */ "euc-kr");
        }
    </script>
</head>
<body> 
    <h2>춘천 홍보 설문 조사</h2>
    <form name="info">
        이름 : <input type="text" name="nameInfo">
    </form>
    <hr>
    <form name="q1">
        <strong>Q1. 춘천이 어떤 도시로 인식되는지 선택해 주세요.</strong><br>
        <input type="radio" name = "a1" value = "1">먹을거리가 있는 도시 <br>
        <input type="radio" name = "a1" value = "2">경관 휴양 도시 <br>
        <input type="radio" name = "a1" value = "3">청정환경 도시<br>
        <input type="radio" name = "a1" value = "4">문화예술의 도시<br>
    </form>
    <hr>
    <form name="q2">
        <strong>Q2. 춘천하면 떠오르는 단어를 선택해 주세요.</strong><br>
        <input type="radio" name = "a2" value = "1">닭갈비 <br>
        <input type="radio" name = "a2" value = "2">소양강 <br>
        <input type="radio" name = "a2" value = "3">호반의 도시 <br>
        <input type="radio" name = "a2" value = "4">막국수 <br>
    </form>
    <hr>
    <form name="q3">
        <strong>Q3. 원하시는 체험 관광 상품을 선택해 주세요.</strong><br>
        <input type="radio" name = "a3" value = "1">강촌 레일바이크 <br>
        <input type="radio" name = "a3" value = "2">시티 투어 <br>
        <input type="radio" name = "a3" value = "3">소양강 스카이워크 <br>
        <input type="radio" name = "a3" value = "4">의암호 물레길 <br>
    </form>
    <hr>
    <form name = "q4">
        <strong>Q4. 2020년 올해에 춘천을 방문한 적이 있다.</strong><br>
        <input type="radio" name = "a4" value = "1">그렇다 &nbsp;&nbsp;&nbsp;
        <input type="radio" name = "a4" value = "2">아니다
    </form>
    <hr>
    <form name = "q5">
        <strong>Q5. 춘천이 가깝다고 생각한다.</strong><br>
        <input type="radio" name = "a5" value = "1">그렇다 &nbsp;&nbsp;&nbsp;
        <input type="radio" name = "a5" value = "2">아니다
    </form>
    <br>
    <input type="submit" name ="sub" value = "Submit" onclick = submitRadio()> <br>
    <button onclick = "openTextFile()">Open</button> &nbsp;&nbsp;&nbsp;
    <button onclick = "writeFile()">Write</button>
    
    <p>
        <span id = "span">test</span>
    </p>
    <p>
        <div id = "output"></div>
    </p>
</body>
</html>